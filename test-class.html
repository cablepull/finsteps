<!doctype html>
<html>
<head>
  <title>Class Diagram Test</title>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@11.12.2/dist/mermaid.min.js"></script>
</head>
<body>
  <div id="diagram"></div>
  <script>
    mermaid.initialize({ startOnLoad: false, theme: "dark" });
    
    const mermaidText = `classDiagram
      class Vehicle {
        +String make
        +String model
        +int year
        +void start()
        +void stop()
      }
      
      class Car {
        +int numDoors
        +void openTrunk()
      }
      
      class Motorcycle {
        +bool hasSidecar
        +void wheelie()
      }
      
      class Wheel {
        +int size
        +String brand
      }
      
      Vehicle <|-- Car
      Vehicle <|-- Motorcycle
      Car *-- Wheel
      Motorcycle *-- Wheel
    `;
    
    (async () => {
      const { svg } = await mermaid.render('test-diagram', mermaidText);
      document.getElementById('diagram').innerHTML = svg;
      
      // Log all elements with IDs
      const svgEl = document.querySelector('svg');
      const allIds = Array.from(svgEl.querySelectorAll('[id]')).map(el => ({
        id: el.getAttribute('id'),
        tag: el.tagName,
        class: el.getAttribute('class'),
        textContent: el.textContent?.trim().substring(0, 30)
      }));
      
      console.log('All elements with IDs:', JSON.stringify(allIds, null, 2));
      
      // Log all g elements with classes
      const allGroups = Array.from(svgEl.querySelectorAll('g[class]')).map(el => ({
        class: el.getAttribute('class'),
        id: el.getAttribute('id'),
        children: el.children.length
      }));
      
      console.log('All g elements with classes:', JSON.stringify(allGroups, null, 2));
    })();
  </script>
</body>
</html>
